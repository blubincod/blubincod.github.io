---
layout: page
title: "GraphQL ê¸°ì´ˆ"
author: author1
comments: true
description: >
hide_description: true
sitemap: true
---

0. this unordered seed list will be replaced by toc as unordered list 
{:toc}

# GraphQL
- dataë¥¼ ìš”ì²­í•œ ê²ƒë§Œ ë°›ì„ ìˆ˜ ìˆë‹¤.
<a target="_blank" href="https://github.com/graphql/graphql-spec">Graphql ì„¤ëª…ì„œ</a>

<hr>

## íŠ¹ì§•
<hr>

### Over-fetching
- í•„ìš”í•œ ë°ì´í„°ë³´ë‹¤ ë§ì€ ë°ì´í„°ë¥¼ fetch
<hr>

### Under-fetching
- í•„ìš”í•œ ë°ì´í„°ë³´ë‹¤ ì ì€ ë°ì´í„°ë¥¼ fetch
<hr>

### Rest APIì™€ ì°¨ì´
<hr>
REST
- ì„œë²„ê°„ í†µì‹ ì´ë‚˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì„œë²„ì™€ í†µì‹ í•  ë•Œ URLë¡œ ì´ë£¨ì–´ì§„ë‹¤.


API(Application Programming Interface)
-

<hr>

## GraphQL ì‚¬ìš©í•´ ë³´ê¸°
<a target="_blank" href="https://graphql.org/swapi-graphql">GraphiQL ì‚¬ìš©í•´ ë³´ê¸°</a>
// graphQL queryë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” browser tool

![image description](/assets/study/graphql_image/graphiql1.png)
<hr>

## Apollo Server
- node.js serverì™€ ê°™ì´ graphQLì„ ì´í•´í•˜ëŠ” ì„œë²„

ğŸ”§ npm install apollo-server graphql

package.json ì•„ë˜ì— `"type": "module"` ì¶”ê°€<br>
=> importë¬¸ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•¨

âš ï¸ graphqlì€ dataì˜ shapeì„ ë¯¸ë¦¬ ì•Œê³  ìˆì–´ì•¼ í•œë‹¤.

â­ userê°€ dataë¥¼ ë°›ë„ë¡ í•˜ê³  ì‹¶ìœ¼ë©´ Query typeì•ˆì— ìˆì–´ì•¼ í•œë‹¤.
<hr>

### Type Definition
#### Nullable & Non-Nullable

<hr>

#### Mutation
- APIì™€ ì†Œí†µí•˜ê²Œ í•´ì£¼ëŠ” ì—­í• ì„ í•œë‹¤.
- Databaseì— ì˜í–¥ì„ ì¤€ë‹¤.
<hr>

### resolver
- í•„ë“œë¥¼ ì‹¤í–‰ í–ˆì„ ë•Œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜

â­ userê°€ argumentë¥¼ ë³´ë‚¼ ë•Œ ê·¸ argumentëŠ” resolver functionì˜ ë‘ë²ˆ ì§¸ argumentê°€ ëœë‹¤.

```js
const tweets = [
  {
    id: "1",
    text: "hello",
  }
];

const typeDefs = gql`
  type Query {
    allTweets: [Tweet!]!
    tweet(id: ID!): Tweet
  }
`;

const resolvers = {
  Query: {
    allTweets() {
      return tweets;
    },
    tweet(root, args) {
      console.log(args);
      return null;
    },
  },
};

const server = new ApolloServer({ typeDefs, resolvers });
```
<hr>

### Documentation
- type, field ê·¸ë¦¬ê³  argumentì— ëŒ€í•œ ì„¤ëª…ì„ ì œê³µí•œë‹¤.

ex. fullNameì— ëŒ€í•œ ì„¤ëª…
"""
fullName => firstName + lastName
"""

<hr>

### Migrating from REST to GraphQL
- REST APIë¥¼ GraphQL APIë¡œ ë°”ê¿”ì¤€ë‹¤.
